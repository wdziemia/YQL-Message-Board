<table xmlns="http://query.yahooapis.com/v1/schema/table.xsd">
  <meta>
    <author>Wojciech Dziemianczyk</author>
    <description>Yahoo Message Board</description>
    <sampleQuery>SELECT * FROM {table} WHERE symbol='GOOG';</sampleQuery>
  </meta>

<bindings>
  <select itemPath="" produces="XML">
  <urls>
  	<url>http://finance.yahoo.com/mb/{symbol}/</url>
  </urls>
  <inputs>
  	<key id='symbol' type='xs:string' paramType='variable' required="true" />
  </inputs>
  <execute>
    <![CDATA[
	function getMessages() {
		return true;
	}
	    
	try {  
		var url = "http://finance.yahoo.com/mb/" + symbol;
	    	var query = y.rest( url );	
	    	var data = query.accept( "text/html" ).get().response;
	    
	    	var path = y.xpath(data, "//table/tbody[@class='mb-ajxp-list mb-sorted-by-la']");
		var elements = path.*.length();
		
	    	response.object = <messages symbol= {symbol} size={size}></messages>;
    					
    		response.object.appendChild( <message> title </message> );
	} catch(err) {  
   		response.object = {'result':'failure', 'error': err};  
	} 
	
	  
]]></execute>
</select>
</bindings>
</table>
